<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Mr. Listr - Shopping Trip</title>
		<meta name="description" content="Your one stop shop buddy." />

		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- Bootstrap Library CSS CDN go here -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
			crossorigin="anonymous"
		/>

		<!-- Boostrap Library JS CDN  go here -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
			crossorigin="anonymous"
		></script>

		<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

		<script src="https://cdn.jsdelivr.net/npm/@magicbruno/swalstrap5@1.0.8/dist/js/swalstrap5_all.min.js"></script>

		<!-- Link to styles of your own -->
		<link rel="stylesheet" href="/styles/global.css" />
	</head>

	<body class="overflow-y-hidden">
		<div id="navigation-placeholder"></div>
		<script src="/scripts/load-dynamic-navigation.js"></script>

		<div class="h-100 mt-5 pt-5">
			<template id="price-popup-template">
				<div class="d-flex flex-column align-items-start text-start fs-6">
					<label for="each-price-input" class="form-label">Each Item Price:</label>
					<div class="input-group mb-3">
						<span class="input-group-text">$</span>
						<input
							required
							min="0"
							type="number"
							id="each-price-input"
							class="form-control template-each-price-input"
							aria-label="Each Price"
						/>
					</div>
					<label for="template-unit-amount-input" class="form-label">Each Item Unit:</label>
					<div class="input-group mb-3">
						<input
							required
							min="0"
							type="number"
							id="template-unit-amount-input"
							class="form-control w-auto template-unit-amount-input"
							aria-label="Each Amount"
							value="1"
						/>
						<select
							required
							class="form-select w-25 template-unit-select"
							id="template-unit-select"
							aria-label="Unit Type"
						>
							<option value="g" selected>grams</option>
							<option value="l">liters</option>
							<option value="ml">milliliters</option>
							<option value="kg">kilograms</option>
							<option value="item">item</option>
						</select>
					</div>
				</div>
			</template>

			<div class="container h-100 d-flex flex-column align-items-center gap-3">
				<div class="w-100">
					<h1 class="mb-0" id="trip-name">Loading...</h1>
					<hr class="mb-0" />
				</div>
				<div class="container d-flex flex-column gap-3" id="items-container">
					<template id="item-template">
						<div
							class="w-100 bg-primary-subtle p-3 rounded-3 border border-black d-flex gap-2 align-items-center"
						>
							<p class="mb-0 fw-bold fs-5 template-name"></p>
							<div
								class="bg-primary ms-auto p-2 d-flex align-items-center justify-content-center rounded-2 border border-dark-subtle"
							>
								<p class="mb-0 template-quantity"></p>
							</div>
							<input
								type="checkbox"
								class="form-check-input border border-black fs-1 m-0 template-select"
							/>
						</div>
					</template>
				</div>
				<div class="d-flex gap-3">
					<button class="btn btn-primary" id="add-items-button">+ Add Saved Items</button>
					<button class="btn btn-primary" id="add-temp-items-button">+ Add Temporary Items</button>
				</div>
				<div
					class="container w-100 bg-primary-subtle mt-auto sticky-bottom p-3 rounded-top-2 border border-black d-flex flex-column flex-md-row-reverse align-items-center justify-content-between gap-4"
				>
					<div class="d-flex flex-column fs-5">
						<ul id="trip-total-breakdown" class="list-unstyled m-0"></ul>
					</div>

					<div class="d-flex gap-3">
						<button class="btn btn-success" id="finish-trip-button">Finish Trip</button>
						<button class="btn btn-danger" id="cancel-trip-button">Cancel Trip</button>
					</div>
				</div>
			</div>
		</div>

		<script src="/scripts/firebaseAPI_BBY8.js"></script>
		<script type="module" src="/scripts/trip.js"></script>
	</body>
</html>
